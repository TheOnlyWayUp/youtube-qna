import{S as de,i as he,s as pe,k as _,q as O,a as A,l as m,m as g,r as C,h as f,c as D,n as i,J as S,K as pt,b as L,D as u,L as ee,M as ze,N as te,O as Ce,H as le,P as Ue,Q as Je,I as oe,u as Ke,R as _t,T as mt,o as ft,U as vt,V as gt,W as bt,y as _e,z as me,A as ve,g as Y,d as Q,B as ge,X as Et,v as Qe,f as Fe,e as We,Y as Me,Z as He,_ as wt}from"../chunks/index.40420d70.js";import{w as Oe,r as yt}from"../chunks/index.2f5893d6.js";let dt=[{name:"stuff"},{name:"refine"},{name:"map_reduce"},{name:"map_rerank"}],kt=yt(dt),Pe=Oe({prompt_type:dt[0].name,temperature:.1,top_k:4,token:""}),Ye=Oe(""),qe=Oe([]),Ge=Oe([]),ht=Oe([]);function Ze(n,e,t){const l=n.slice();return l[6]=e[t],l}function et(n){let e,t=n[6].name+"",l,o;return{c(){e=_("option"),l=O(t),this.h()},l(r){e=m(r,"OPTION",{});var s=g(e);l=C(s,t),s.forEach(f),this.h()},h(){e.__value=o=n[6].name,e.value=e.__value},m(r,s){L(r,e,s),u(e,l)},p(r,s){s&2&&t!==(t=r[6].name+"")&&Ke(l,t),s&2&&o!==(o=r[6].name)&&(e.__value=o,e.value=e.__value)},d(r){r&&f(e)}}}function It(n){let e,t,l,o,r,s,a,h,c,y,v,E,d,b,p,w,k,V,T,x,B,P,G,F,re,X,U,be,z,R,Ee,ie,M,W,J,Z,we,K,ae,Ve,ne=n[1],j=[];for(let $=0;$<ne.length;$+=1)j[$]=et(Ze(n,ne,$));return{c(){e=_("div"),t=_("div"),l=_("h2"),o=O("Configuration"),r=A(),s=_("div"),a=_("ul"),h=_("li"),c=_("div"),y=_("label"),v=_("span"),E=O("OpenAI API Key"),d=A(),b=_("input"),p=A(),w=_("li"),k=_("div"),V=_("label"),T=_("span"),x=O("Temperature"),B=A(),P=_("input"),G=A(),F=_("li"),re=_("div"),X=_("label"),U=_("span"),be=O("No. Documents (top_k)"),z=A(),R=_("input"),Ee=A(),ie=_("li"),M=_("div"),W=_("label"),J=_("span"),Z=O("Prompt Type"),we=A(),K=_("select");for(let $=0;$<j.length;$+=1)j[$].c();this.h()},l($){e=m($,"DIV",{class:!0});var q=g(e);t=m(q,"DIV",{class:!0});var I=g(t);l=m(I,"H2",{class:!0});var N=g(l);o=C(N,"Configuration"),N.forEach(f),r=D(I),s=m(I,"DIV",{});var H=g(s);a=m(H,"UL",{});var se=g(a);h=m(se,"LI",{});var Le=g(h);c=m(Le,"DIV",{class:!0});var ue=g(c);y=m(ue,"LABEL",{class:!0});var ye=g(y);v=m(ye,"SPAN",{class:!0});var Ne=g(v);E=C(Ne,"OpenAI API Key"),Ne.forEach(f),d=D(ye),b=m(ye,"INPUT",{type:!0,class:!0}),ye.forEach(f),ue.forEach(f),Le.forEach(f),p=D(se),w=m(se,"LI",{});var ce=g(w);k=m(ce,"DIV",{class:!0});var Se=g(k);V=m(Se,"LABEL",{class:!0});var ke=g(V);T=m(ke,"SPAN",{class:!0});var Ie=g(T);x=C(Ie,"Temperature"),Ie.forEach(f),B=D(ke),P=m(ke,"INPUT",{type:!0,placeholder:!0,class:!0}),ke.forEach(f),Se.forEach(f),ce.forEach(f),G=D(se),F=m(se,"LI",{});var $e=g(F);re=m($e,"DIV",{class:!0});var Be=g(re);X=m(Be,"LABEL",{class:!0});var fe=g(X);U=m(fe,"SPAN",{class:!0});var xe=g(U);be=C(xe,"No. Documents (top_k)"),xe.forEach(f),z=D(fe),R=m(fe,"INPUT",{type:!0,placeholder:!0,class:!0}),fe.forEach(f),Be.forEach(f),$e.forEach(f),Ee=D(se),ie=m(se,"LI",{});var Ae=g(ie);M=m(Ae,"DIV",{class:!0});var je=g(M);W=m(je,"LABEL",{class:!0});var De=g(W);J=m(De,"SPAN",{class:!0});var Te=g(J);Z=C(Te,"Prompt Type"),Te.forEach(f),we=D(De),K=m(De,"SELECT",{class:!0});var Xe=g(K);for(let Re=0;Re<j.length;Re+=1)j[Re].l(Xe);Xe.forEach(f),De.forEach(f),je.forEach(f),Ae.forEach(f),se.forEach(f),H.forEach(f),I.forEach(f),q.forEach(f),this.h()},h(){i(l,"class","card-title justify-center"),i(v,"class","label-text"),S(v,"text-red-500",!n[0].token.length),i(b,"type","password"),i(b,"class","input input-xs input-ghost w-full max-w-xs"),S(b,"input-ghost",!n[0].token.length),i(y,"class","label flex flex-col"),i(c,"class","form-control w-full max-w-xs"),i(T,"class","label-text"),i(P,"type","number"),i(P,"placeholder","Type here"),i(P,"class","input input-xs input-bordered w-full max-w-xs"),i(V,"class","label flex flex-col"),i(k,"class","form-control w-full max-w-xs"),i(U,"class","label-text"),i(R,"type","number"),i(R,"placeholder","Type here"),i(R,"class","input input-xs input-bordered w-full max-w-xs"),i(X,"class","label flex flex-col"),i(re,"class","form-control w-full max-w-xs"),i(J,"class","label-text"),i(K,"class","select select-ghost select-xs w-full max-w-xs"),n[0].prompt_type===void 0&&pt(()=>n[5].call(K)),i(W,"class","label flex flex-col"),i(M,"class","form-control w-full max-w-xs"),i(t,"class","card-body"),i(e,"class","min-w-full shadow-xl flex-grow max-h-[50vh] rounded-lg")},m($,q){L($,e,q),u(e,t),u(t,l),u(l,o),u(t,r),u(t,s),u(s,a),u(a,h),u(h,c),u(c,y),u(y,v),u(v,E),u(y,d),u(y,b),ee(b,n[0].token),u(a,p),u(a,w),u(w,k),u(k,V),u(V,T),u(T,x),u(V,B),u(V,P),ee(P,n[0].temperature),u(a,G),u(a,F),u(F,re),u(re,X),u(X,U),u(U,be),u(X,z),u(X,R),ee(R,n[0].top_k),u(a,Ee),u(a,ie),u(ie,M),u(M,W),u(W,J),u(J,Z),u(W,we),u(W,K);for(let I=0;I<j.length;I+=1)j[I]&&j[I].m(K,null);ze(K,n[0].prompt_type,!0),ae||(Ve=[te(b,"input",n[2]),te(P,"input",n[3]),te(R,"input",n[4]),te(K,"change",n[5])],ae=!0)},p($,[q]){if(q&1&&S(v,"text-red-500",!$[0].token.length),q&3&&b.value!==$[0].token&&ee(b,$[0].token),q&1&&S(b,"input-ghost",!$[0].token.length),q&3&&Ce(P.value)!==$[0].temperature&&ee(P,$[0].temperature),q&3&&Ce(R.value)!==$[0].top_k&&ee(R,$[0].top_k),q&2){ne=$[1];let I;for(I=0;I<ne.length;I+=1){const N=Ze($,ne,I);j[I]?j[I].p(N,q):(j[I]=et(N),j[I].c(),j[I].m(K,null))}for(;I<j.length;I+=1)j[I].d(1);j.length=ne.length}q&3&&ze(K,$[0].prompt_type)},i:le,o:le,d($){$&&f(e),Ue(j,$),ae=!1,Je(Ve)}}}function $t(n,e,t){let l,o;oe(n,Pe,c=>t(0,l=c)),oe(n,kt,c=>t(1,o=c));function r(){l.token=this.value,Pe.set(l)}function s(){l.temperature=Ce(this.value),Pe.set(l)}function a(){l.top_k=Ce(this.value),Pe.set(l)}function h(){l.prompt_type=_t(this),Pe.set(l)}return[l,o,r,s,a,h]}class At extends de{constructor(e){super(),he(this,e,$t,It,pe,{})}}function tt(n,e,t){const l=n.slice();return l[10]=e[t],l}function lt(n,e){let t,l,o,r,s=!1,a,h,c,y=e[10].name+"",v,E,d,b,p,w,k;return p=vt(e[5][0]),{key:n,first:null,c(){t=_("div"),l=_("label"),o=_("input"),h=A(),c=_("span"),v=O(y),b=A(),this.h()},l(V){t=m(V,"DIV",{class:!0});var T=g(t);l=m(T,"LABEL",{class:!0,"data-tip":!0,for:!0});var x=g(l);o=m(x,"INPUT",{type:!0,class:!0,id:!0}),h=D(x),c=m(x,"SPAN",{class:!0});var B=g(c);v=C(B,y),B.forEach(f),x.forEach(f),b=D(T),T.forEach(f),this.h()},h(){i(o,"type","checkbox"),i(o,"class","checkbox checkbox-sm"),o.__value=r=e[10].id,o.value=o.__value,i(o,"id",a=e[10].id),o.checked=!0,i(c,"class","label-text"),i(l,"class","flex cursor-pointer label tooltip"),i(l,"data-tip",E=e[10].type),i(l,"for",d=e[10].id),i(t,"class","bg-base-200"),p.p(o),this.first=t},m(V,T){L(V,t,T),u(t,l),u(l,o),o.checked=~(e[2]||[]).indexOf(o.__value),u(l,h),u(l,c),u(c,v),u(t,b),w||(k=te(o,"change",e[4]),w=!0)},p(V,T){e=V,T&2&&r!==(r=e[10].id)&&(o.__value=r,o.value=o.__value,s=!0),T&2&&a!==(a=e[10].id)&&i(o,"id",a),(s||T&6)&&(o.checked=~(e[2]||[]).indexOf(o.__value)),T&2&&y!==(y=e[10].name+"")&&Ke(v,y),T&2&&E!==(E=e[10].type)&&i(l,"data-tip",E),T&2&&d!==(d=e[10].id)&&i(l,"for",d)},d(V){V&&f(t),p.r(),w=!1,k()}}}function Dt(n){let e,t,l,o,r,s,a=[],h=new Map,c,y,v,E,d,b,p,w,k,V,T,x,B,P,G,F,re,X,U,be,z,R,Ee,ie,M,W,J,Z,we,K,ae,Ve,ne,j,$=n[1];const q=I=>I[10].id;for(let I=0;I<$.length;I+=1){let N=tt(n,$,I),H=q(N);h.set(H,a[I]=lt(H,N))}return{c(){e=_("div"),t=_("div"),l=_("h2"),o=O("Sources"),r=A(),s=_("div");for(let I=0;I<a.length;I+=1)a[I].c();c=A(),y=_("div"),v=_("label"),E=O("+ Add"),d=A(),b=_("input"),p=A(),w=_("div"),k=_("div"),V=_("h3"),T=O("Add Source"),x=A(),B=_("div"),P=_("div"),G=_("label"),F=_("span"),re=O("URL:"),X=A(),U=_("input"),be=A(),z=_("label"),R=_("span"),Ee=O("Name:"),ie=A(),M=_("input"),W=A(),J=_("div"),Z=_("label"),we=O("Add"),K=A(),ae=_("label"),Ve=O("Close!"),this.h()},l(I){e=m(I,"DIV",{class:!0});var N=g(e);t=m(N,"DIV",{class:!0});var H=g(t);l=m(H,"H2",{class:!0});var se=g(l);o=C(se,"Sources"),se.forEach(f),r=D(H),s=m(H,"DIV",{class:!0});var Le=g(s);for(let Te=0;Te<a.length;Te+=1)a[Te].l(Le);Le.forEach(f),c=D(H),y=m(H,"DIV",{class:!0});var ue=g(y);v=m(ue,"LABEL",{for:!0,class:!0});var ye=g(v);E=C(ye,"+ Add"),ye.forEach(f),d=D(ue),b=m(ue,"INPUT",{type:!0,id:!0,class:!0}),p=D(ue),w=m(ue,"DIV",{class:!0});var Ne=g(w);k=m(Ne,"DIV",{class:!0});var ce=g(k);V=m(ce,"H3",{class:!0});var Se=g(V);T=C(Se,"Add Source"),Se.forEach(f),x=D(ce),B=m(ce,"DIV",{class:!0});var ke=g(B);P=m(ke,"DIV",{class:!0});var Ie=g(P);G=m(Ie,"LABEL",{class:!0});var $e=g(G);F=m($e,"SPAN",{class:!0});var Be=g(F);re=C(Be,"URL:"),Be.forEach(f),X=D($e),U=m($e,"INPUT",{type:!0,placeholder:!0,class:!0}),$e.forEach(f),be=D(Ie),z=m(Ie,"LABEL",{class:!0});var fe=g(z);R=m(fe,"SPAN",{class:!0});var xe=g(R);Ee=C(xe,"Name:"),xe.forEach(f),ie=D(fe),M=m(fe,"INPUT",{type:!0,placeholder:!0,class:!0}),fe.forEach(f),Ie.forEach(f),ke.forEach(f),W=D(ce),J=m(ce,"DIV",{class:!0});var Ae=g(J);Z=m(Ae,"LABEL",{for:!0,class:!0});var je=g(Z);we=C(je,"Add"),je.forEach(f),K=D(Ae),ae=m(Ae,"LABEL",{for:!0,class:!0});var De=g(ae);Ve=C(De,"Close!"),De.forEach(f),Ae.forEach(f),ce.forEach(f),Ne.forEach(f),ue.forEach(f),H.forEach(f),N.forEach(f),this.h()},h(){i(l,"class","card-title justify-center"),i(s,"class","overflow-y-auto"),i(v,"for","my_modal_6"),i(v,"class","btn btn-outline mt-5"),i(b,"type","checkbox"),i(b,"id","my_modal_6"),i(b,"class","modal-toggle"),i(V,"class","font-bold text-lg"),i(F,"class","label-text"),i(U,"type","url"),i(U,"placeholder","of a Channel, Video or Playlist."),i(U,"class","ml-2 input input-bordered w-full max-w-sm"),i(G,"class","label"),i(R,"class","label-text"),i(M,"type","text"),i(M,"placeholder","Name this Source"),i(M,"class","ml-2 input input-bordered input-primary w-full max-w-sm"),i(z,"class","label"),i(P,"class","form-control w-full max-w-xs"),i(B,"class","py-4"),i(Z,"for","my_modal_6"),i(Z,"class","btn flex-grow btn-primary"),i(ae,"for","my_modal_6"),i(ae,"class","btn flex-shrink btn-outline"),i(J,"class","modal-action w-full flex"),i(k,"class","modal-box"),i(w,"class","modal"),i(y,"class","card-actions justify-center"),i(t,"class","card-body"),i(e,"class","min-w-full rounded-lg shadow-xl flex-grow")},m(I,N){L(I,e,N),u(e,t),u(t,l),u(l,o),u(t,r),u(t,s);for(let H=0;H<a.length;H+=1)a[H]&&a[H].m(s,null);u(t,c),u(t,y),u(y,v),u(v,E),u(y,d),u(y,b),u(y,p),u(y,w),u(w,k),u(k,V),u(V,T),u(k,x),u(k,B),u(B,P),u(P,G),u(G,F),u(F,re),u(G,X),u(G,U),ee(U,n[0].url),u(P,be),u(P,z),u(z,R),u(R,Ee),u(z,ie),u(z,M),ee(M,n[0].name),u(k,W),u(k,J),u(J,Z),u(Z,we),u(J,K),u(J,ae),u(ae,Ve),ne||(j=[te(U,"input",n[6]),te(M,"input",n[7]),te(Z,"click",n[8])],ne=!0)},p(I,[N]){N&6&&($=I[1],a=mt(a,N,q,1,I,$,h,s,gt,lt,null,tt)),N&1&&U.value!==I[0].url&&ee(U,I[0].url),N&1&&M.value!==I[0].name&&ee(M,I[0].name)},i:le,o:le,d(I){I&&f(e);for(let N=0;N<a.length;N+=1)a[N].d();ne=!1,Je(j)}}}const Vt=15e3;function Tt(n,e,t){let l;oe(n,qe,d=>t(2,l=d));async function o(){let d=await fetch("/sources",{method:"GET"});return t(1,a=await d.json()),a}let r={url:"",name:""};async function s(){await fetch("/create",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}),t(0,r.url="",r),t(0,r.name="",r)}let a=[];ft(()=>{t(1,a=o());const d=setInterval(o,Vt);return t(1,a),()=>clearInterval(d)});const h=[[]];function c(){l=bt(h[0],this.__value,this.checked),qe.set(l)}function y(){r.url=this.value,t(0,r)}function v(){r.name=this.value,t(0,r)}return[r,a,l,s,c,h,y,v,async d=>{await s()}]}class Pt extends de{constructor(e){super(),he(this,e,Tt,Dt,pe,{})}}function Lt(n){let e,t,l,o,r,s,a;return t=new Pt({}),s=new At({}),{c(){e=_("div"),_e(t.$$.fragment),l=A(),o=_("div"),r=A(),_e(s.$$.fragment),this.h()},l(h){e=m(h,"DIV",{class:!0});var c=g(e);me(t.$$.fragment,c),l=D(c),o=m(c,"DIV",{class:!0}),g(o).forEach(f),r=D(c),me(s.$$.fragment,c),c.forEach(f),this.h()},h(){i(o,"class","divider"),i(e,"class","w-64 flex flex-col items-stretch my-2")},m(h,c){L(h,e,c),ve(t,e,null),u(e,l),u(e,o),u(e,r),ve(s,e,null),a=!0},p:le,i(h){a||(Y(t.$$.fragment,h),Y(s.$$.fragment,h),a=!0)},o(h){Q(t.$$.fragment,h),Q(s.$$.fragment,h),a=!1},d(h){h&&f(e),ge(t),ge(s)}}}class Nt extends de{constructor(e){super(),he(this,e,null,Lt,pe,{})}}function St(n){let e;return{c(){e=_("div"),this.h()},l(t){e=m(t,"DIV",{id:!0}),g(e).forEach(f),this.h()},h(){i(e,"id",n[0])},m(t,l){L(t,e,l)},p:le,i:le,o:le,d(t){t&&f(e)}}}function Bt(n,e,t){let l;oe(n,ht,v=>t(5,l=v)),ft(()=>{if(l.length)d();else{var v=document.createElement("script");v.src="https://www.youtube.com/iframe_api";var E=document.getElementsByTagName("script")[0];E.parentNode.insertBefore(v,E),window.onYouTubeIframeAPIReady=()=>window.dispatchEvent(new Event("iframeApiReady"))}function d(){s=new YT.Player(a,{height:"390",width:"640",videoId:o,playerVars:{fs:0,modestbranding:1,start:r},events:{onReady:y}})}window.addEventListener("iframeApiReady",function(b){d()})});let{videoId:o}=e,{startAt:r}=e,s,a="player_"+parseInt(Math.random()*109999);function h(){s.playVideo()}const c=Et();function y(){c("Ready"),l.push(s),console.log("pushed",l)}return n.$$set=v=>{"videoId"in v&&t(1,o=v.videoId),"startAt"in v&&t(2,r=v.startAt)},[a,o,r,h]}class xt extends de{constructor(e){super(),he(this,e,Bt,St,pe,{videoId:1,startAt:2,play:3})}get play(){return this.$$.ctx[3]}}function at(n,e,t){const l=n.slice();return l[4]=e[t],l[6]=t,l}function st(n,e,t){const l=n.slice();return l[4]=e[t],l[6]=t,l}function jt(n){let e;return{c(){e=O("AI")},l(t){e=C(t,"AI")},m(t,l){L(t,e,l)},d(t){t&&f(e)}}}function Ot(n){let e;return{c(){e=O("H")},l(t){e=C(t,"H")},m(t,l){L(t,e,l)},d(t){t&&f(e)}}}function rt(n){let e,t,l,o,r,s,a,h=n[0].sources,c=[];for(let d=0;d<h.length;d+=1)c[d]=nt(st(n,h,d));const y=d=>Q(c[d],1,1,()=>{c[d]=null});let v=n[0].sources,E=[];for(let d=0;d<v.length;d+=1)E[d]=ot(at(n,v,d));return{c(){e=_("p"),t=O("Sources:"),l=A(),o=_("div");for(let d=0;d<c.length;d+=1)c[d].c();r=A(),s=_("div");for(let d=0;d<E.length;d+=1)E[d].c();this.h()},l(d){e=m(d,"P",{class:!0});var b=g(e);t=C(b,"Sources:"),b.forEach(f),l=D(d),o=m(d,"DIV",{class:!0});var p=g(o);for(let k=0;k<c.length;k+=1)c[k].l(p);p.forEach(f),r=D(d),s=m(d,"DIV",{class:!0});var w=g(s);for(let k=0;k<E.length;k+=1)E[k].l(w);w.forEach(f),this.h()},h(){i(e,"class","prose mt-4 ml-3"),i(o,"class","carousel w-[640px] space-x-4 bg-neutral rounded-md join-item ml-3"),i(s,"class","flex w-full py-2 gap-2 join-item ml-3")},m(d,b){L(d,e,b),u(e,t),L(d,l,b),L(d,o,b);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(o,null);L(d,r,b),L(d,s,b);for(let p=0;p<E.length;p+=1)E[p]&&E[p].m(s,null);a=!0},p(d,b){if(b&5){h=d[0].sources;let p;for(p=0;p<h.length;p+=1){const w=st(d,h,p);c[p]?(c[p].p(w,b),Y(c[p],1)):(c[p]=nt(w),c[p].c(),Y(c[p],1),c[p].m(o,null))}for(Qe(),p=h.length;p<c.length;p+=1)y(p);Fe()}if(b&7){v=d[0].sources;let p;for(p=0;p<v.length;p+=1){const w=at(d,v,p);E[p]?E[p].p(w,b):(E[p]=ot(w),E[p].c(),E[p].m(s,null))}for(;p<E.length;p+=1)E[p].d(1);E.length=v.length}},i(d){if(!a){for(let b=0;b<h.length;b+=1)Y(c[b]);a=!0}},o(d){c=c.filter(Boolean);for(let b=0;b<c.length;b+=1)Q(c[b]);a=!1},d(d){d&&f(e),d&&f(l),d&&f(o),Ue(c,d),d&&f(r),d&&f(s),Ue(E,d)}}}function nt(n){let e,t,l,o,r;return t=new xt({props:{videoId:n[4].source,startAt:n[4].start}}),{c(){e=_("div"),_e(t.$$.fragment),l=A(),this.h()},l(s){e=m(s,"DIV",{id:!0,class:!0});var a=g(e);me(t.$$.fragment,a),l=D(a),a.forEach(f),this.h()},h(){i(e,"id",o=`item_${n[4].source}_${n[6]+1}_${n[2]}`),i(e,"class","carousel-item w-full")},m(s,a){L(s,e,a),ve(t,e,null),u(e,l),r=!0},p(s,a){const h={};a&1&&(h.videoId=s[4].source),a&1&&(h.startAt=s[4].start),t.$set(h),(!r||a&1&&o!==(o=`item_${s[4].source}_${s[6]+1}_${s[2]}`))&&i(e,"id",o)},i(s){r||(Y(t.$$.fragment,s),r=!0)},o(s){Q(t.$$.fragment,s),r=!1},d(s){s&&f(e),ge(t)}}}function ot(n){let e,t=n[6]+1+"",l,o,r,s;return{c(){e=_("a"),l=O(t),this.h()},l(a){e=m(a,"A",{href:!0,class:!0});var h=g(e);l=C(h,t),h.forEach(f),this.h()},h(){i(e,"href",o=`#${`item_${n[4].source}_${n[6]+1}_${n[2]}`}`),i(e,"class","btn btn-outline")},m(a,h){L(a,e,h),u(e,l),r||(s=te(e,"click",n[1]),r=!0)},p(a,h){h&1&&o!==(o=`#${`item_${a[4].source}_${a[6]+1}_${a[2]}`}`)&&i(e,"href",o)},d(a){a&&f(e),r=!1,s()}}}function Ct(n){let e,t,l,o,r,s,a,h=n[0].content+"",c,y,v;function E(w,k){return w[0].human?Ot:jt}let d=E(n),b=d(n),p=!n[0].human&&rt(n);return{c(){e=_("div"),t=_("div"),l=_("div"),o=_("span"),b.c(),r=A(),s=_("div"),a=_("p"),c=O(h),y=A(),p&&p.c(),this.h()},l(w){e=m(w,"DIV",{class:!0});var k=g(e);t=m(k,"DIV",{class:!0});var V=g(t);l=m(V,"DIV",{class:!0});var T=g(l);o=m(T,"SPAN",{});var x=g(o);b.l(x),x.forEach(f),T.forEach(f),V.forEach(f),r=D(k),s=m(k,"DIV",{class:!0});var B=g(s);a=m(B,"P",{class:!0});var P=g(a);c=C(P,h),P.forEach(f),y=D(B),p&&p.l(B),B.forEach(f),k.forEach(f),this.h()},h(){i(l,"class","text-neutral-content w-12 join-item"),S(l,"rounded-tl-md",n[0].human),S(l,"rounded-bl-md",n[0].human),S(l,"bg-neutral",n[0].human),S(l,"bg-neutral-focus",!n[0].human),i(t,"class","avatar placeholder"),i(a,"class","break-normal ml-3 mt-4"),S(a,"text-lg",!n[0].human),i(s,"class","font-normal rounded-none join-item max-w-[700px] w-full"),S(s,"bg-base-300",n[0].human),i(e,"class","text-xl rounded-none flex join"),S(e,"pb-5",!n[0].human)},m(w,k){L(w,e,k),u(e,t),u(t,l),u(l,o),b.m(o,null),u(e,r),u(e,s),u(s,a),u(a,c),u(s,y),p&&p.m(s,null),v=!0},p(w,[k]){d!==(d=E(w))&&(b.d(1),b=d(w),b&&(b.c(),b.m(o,null))),(!v||k&1)&&S(l,"rounded-tl-md",w[0].human),(!v||k&1)&&S(l,"rounded-bl-md",w[0].human),(!v||k&1)&&S(l,"bg-neutral",w[0].human),(!v||k&1)&&S(l,"bg-neutral-focus",!w[0].human),(!v||k&1)&&h!==(h=w[0].content+"")&&Ke(c,h),(!v||k&1)&&S(a,"text-lg",!w[0].human),w[0].human?p&&(Qe(),Q(p,1,1,()=>{p=null}),Fe()):p?(p.p(w,k),k&1&&Y(p,1)):(p=rt(w),p.c(),Y(p,1),p.m(s,null)),(!v||k&1)&&S(s,"bg-base-300",w[0].human),(!v||k&1)&&S(e,"pb-5",!w[0].human)},i(w){v||(Y(p),v=!0)},o(w){Q(p),v=!1},d(w){w&&f(e),b.d(),p&&p.d()}}}function Ut(n,e,t){let l;oe(n,ht,a=>t(3,l=a));let{message:o}=e;function r(){l.forEach(a=>a.pauseVideo())}let s=Math.random()*1e4;return n.$$set=a=>{"message"in a&&t(0,o=a.message)},[o,r,s]}class Rt extends de{constructor(e){super(),he(this,e,Ut,Ct,pe,{message:0})}}function it(n,e,t){const l=n.slice();return l[1]=e[t],l}function ut(n){let e;return{c(){e=_("div"),this.h()},l(t){e=m(t,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){i(e,"class","divider my-2")},m(t,l){L(t,e,l)},d(t){t&&f(e)}}}function ct(n){let e,t,l,o;e=new Rt({props:{message:n[1]}});let r=!n[1].human&&ut();return{c(){_e(e.$$.fragment),t=A(),r&&r.c(),l=We()},l(s){me(e.$$.fragment,s),t=D(s),r&&r.l(s),l=We()},m(s,a){ve(e,s,a),L(s,t,a),r&&r.m(s,a),L(s,l,a),o=!0},p(s,a){const h={};a&1&&(h.message=s[1]),e.$set(h),s[1].human?r&&(r.d(1),r=null):r||(r=ut(),r.c(),r.m(l.parentNode,l))},i(s){o||(Y(e.$$.fragment,s),o=!0)},o(s){Q(e.$$.fragment,s),o=!1},d(s){ge(e,s),s&&f(t),r&&r.d(s),s&&f(l)}}}function Mt(n){let e,t,l,o=n[0],r=[];for(let a=0;a<o.length;a+=1)r[a]=ct(it(n,o,a));const s=a=>Q(r[a],1,1,()=>{r[a]=null});return{c(){e=_("table"),t=_("tbody");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=m(a,"TABLE",{class:!0});var h=g(e);t=m(h,"TBODY",{class:!0});var c=g(t);for(let y=0;y<r.length;y+=1)r[y].l(c);c.forEach(f),h.forEach(f),this.h()},h(){i(t,"class","overflow-y-auto space-y-1"),i(e,"class","table")},m(a,h){L(a,e,h),u(e,t);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(t,null);l=!0},p(a,[h]){if(h&1){o=a[0];let c;for(c=0;c<o.length;c+=1){const y=it(a,o,c);r[c]?(r[c].p(y,h),Y(r[c],1)):(r[c]=ct(y),r[c].c(),Y(r[c],1),r[c].m(t,null))}for(Qe(),c=o.length;c<r.length;c+=1)s(c);Fe()}},i(a){if(!l){for(let h=0;h<o.length;h+=1)Y(r[h]);l=!0}},o(a){r=r.filter(Boolean);for(let h=0;h<r.length;h+=1)Q(r[h]);l=!1},d(a){a&&f(e),Ue(r,a)}}}function Ht(n,e,t){let l;return oe(n,Ge,o=>t(0,l=o)),[l]}class Yt extends de{constructor(e){super(),he(this,e,Ht,Mt,pe,{})}}function qt(n){let e,t,l,o,r,s,a,h,c,y;return{c(){e=_("div"),t=_("textarea"),o=A(),r=_("button"),s=Me("svg"),a=Me("line"),h=Me("polygon"),this.h()},l(v){e=m(v,"DIV",{class:!0});var E=g(e);t=m(E,"TEXTAREA",{type:!0,placeholder:!0,place:!0,class:!0}),g(t).forEach(f),o=D(E),r=m(E,"BUTTON",{class:!0});var d=g(r);s=He(d,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var b=g(s);a=He(b,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),g(a).forEach(f),h=He(b,"polygon",{points:!0}),g(h).forEach(f),b.forEach(f),d.forEach(f),E.forEach(f),this.h()},h(){i(t,"type","text"),i(t,"placeholder",n[2]),i(t,"place",""),i(t,"class","input input-bordered w-full placeholder-gray-600 text-white"),t.disabled=l=n[1]||!n[0].token.length,S(t,"input-disabled",n[1]||!n[0].token.length),i(a,"x1","22"),i(a,"y1","2"),i(a,"x2","11"),i(a,"y2","13"),i(h,"points","22 2 15 22 11 13 2 9 22 2"),i(s,"xmlns","http://www.w3.org/2000/svg"),i(s,"width","24"),i(s,"height","24"),i(s,"viewBox","0 0 24 24"),i(s,"fill","none"),i(s,"stroke","currentColor"),i(s,"stroke-width","2"),i(s,"stroke-linecap","round"),i(s,"stroke-linejoin","round"),i(s,"class","feather feather-send"),i(r,"class","btn btn-square"),r.disabled=n[1],S(r,"btn-disabled",n[1]),i(e,"class","input-group w-full")},m(v,E){L(v,e,E),u(e,t),ee(t,n[3]),u(e,o),u(e,r),u(r,s),u(s,a),u(s,h),c||(y=[te(t,"input",n[5]),te(t,"submit",n[6]),te(r,"click",n[7])],c=!0)},p(v,[E]){E&4&&i(t,"placeholder",v[2]),E&3&&l!==(l=v[1]||!v[0].token.length)&&(t.disabled=l),E&8&&ee(t,v[3]),E&3&&S(t,"input-disabled",v[1]||!v[0].token.length),E&2&&(r.disabled=v[1]),E&2&&S(r,"btn-disabled",v[1])},i:le,o:le,d(v){v&&f(e),c=!1,Je(y)}}}function Gt(n,e,t){let l,o,r,s;oe(n,Pe,d=>t(0,l=d)),oe(n,Ge,d=>t(8,o=d)),oe(n,Ye,d=>t(3,r=d)),oe(n,qe,d=>t(9,s=d));let a=!1;async function h(){o.push({human:!0,content:r}),t(1,a=!0);let b=await(await fetch("/chat",{method:"POST",body:JSON.stringify({configuration:l,history:o,sources:s}),headers:{"Content-Type":"application/json"}})).json();b.content?(wt(Ye,r="",r),o.push({human:!1,content:b.content,sources:b.sources})):alert("There was an Error."),t(1,a=!1),Ge.set(o)}let c="Explain A/B Testing in Five Points";function y(){r=this.value,Ye.set(r)}const v=async d=>{await h()},E=async d=>{await h()};return n.$$.update=()=>{n.$$.dirty&1&&(l.token.length?t(2,c="Explain A/B Testing in Five Points"):t(2,c="Enter OpenAI API Token in Configuration Panel."))},[l,a,c,r,h,y,v,E]}class Jt extends de{constructor(e){super(),he(this,e,Gt,qt,pe,{})}}function Kt(n){let e,t,l,o,r,s,a,h,c,y,v,E,d,b;return c=new Yt({}),d=new Jt({}),{c(){e=_("div"),t=_("div"),l=_("div"),o=_("h2"),r=O("Youtube QnA"),s=A(),a=_("div"),h=_("div"),_e(c.$$.fragment),y=A(),v=_("div"),E=_("div"),_e(d.$$.fragment),this.h()},l(p){e=m(p,"DIV",{class:!0});var w=g(e);t=m(w,"DIV",{class:!0});var k=g(t);l=m(k,"DIV",{class:!0});var V=g(l);o=m(V,"H2",{class:!0});var T=g(o);r=C(T,"Youtube QnA"),T.forEach(f),s=D(V),a=m(V,"DIV",{class:!0});var x=g(a);h=m(x,"DIV",{class:!0});var B=g(h);me(c.$$.fragment,B),B.forEach(f),y=D(x),v=m(x,"DIV",{class:!0});var P=g(v);E=m(P,"DIV",{class:!0});var G=g(E);me(d.$$.fragment,G),G.forEach(f),P.forEach(f),x.forEach(f),V.forEach(f),k.forEach(f),w.forEach(f),this.h()},h(){i(o,"class","card-title"),i(h,"class","overflow-y-auto min-h-[75vh] max-h-[75vh] mb-5 ml-5"),i(E,"class","form-control w-full mx-10 mb-5"),i(v,"class","flex-grow card-actions justify-center"),i(a,"class","flex flex-col min-h-full"),i(l,"class","card-body"),i(t,"class","card card-compact w-full h-full bg-base-200 shadow-xl rounded-sm"),i(e,"class","flex-grow m-10")},m(p,w){L(p,e,w),u(e,t),u(t,l),u(l,o),u(o,r),u(l,s),u(l,a),u(a,h),ve(c,h,null),u(a,y),u(a,v),u(v,E),ve(d,E,null),b=!0},p:le,i(p){b||(Y(c.$$.fragment,p),Y(d.$$.fragment,p),b=!0)},o(p){Q(c.$$.fragment,p),Q(d.$$.fragment,p),b=!1},d(p){p&&f(e),ge(c),ge(d)}}}class Qt extends de{constructor(e){super(),he(this,e,null,Kt,pe,{})}}function Ft(n){let e,t,l,o,r;return t=new Nt({}),o=new Qt({}),{c(){e=_("div"),_e(t.$$.fragment),l=A(),_e(o.$$.fragment),this.h()},l(s){e=m(s,"DIV",{class:!0});var a=g(e);me(t.$$.fragment,a),l=D(a),me(o.$$.fragment,a),a.forEach(f),this.h()},h(){i(e,"class","flex flex-col sm:flex-row min-w-full min-h-screen")},m(s,a){L(s,e,a),ve(t,e,null),u(e,l),ve(o,e,null),r=!0},p:le,i(s){r||(Y(t.$$.fragment,s),Y(o.$$.fragment,s),r=!0)},o(s){Q(t.$$.fragment,s),Q(o.$$.fragment,s),r=!1},d(s){s&&f(e),ge(t),ge(o)}}}class Wt extends de{constructor(e){super(),he(this,e,null,Ft,pe,{})}}export{Wt as component};
